#!/bin/sh

###########################################################################
#									  #
#                    PYWAL STUFF, ITS PRETTY COOL!                        #
#									  #
###########################################################################

while true; do
sleep 2;
echo "demo!";
st -e bash -c "bash -c '

####### Here begins the script to pywal stuff #############################

wall=$(find ~/pix/aerial/ | shuf -n 1) ;
wal -c ;                           
xwallpaper --zoom "$wall" ;       # Change your wallpaper displaying options
wal -n --saturate 0.3 -i "$wall" ; # Choose your wal (pywal) options
pywalfox update ;                 # if you use pywalfox
xdotool key super+F2 ;            # This update xrdb, in my dwm config.h its:
#{ MODKEY,                       XK_F2,     xrdb,           {.v = NULL } },

#To find your tabliss image folder you need to "upload" an image to tabliss, 
#then copy the link 
#It looks like: blob:moz-extension://2f584602-2d29-432e-a5f7-2742e12f8cce/*
#Use the string between // and  / to find/hunt the tabliss image path 
#so we can replace that image with $wall, 
#remember to open that file to confirm its the one that is currently in tabliss

cp $wall ~/.mozilla/firefox/custom/storage/default/moz-extension+++2f584602-2d29-432e-a5f7-2742e12f8cce^userContextId=4294967295/idb/3647222921wleabcEoxlt-eengsairo.files/4 ;
sleep 0.5 ;  							 #optional
xdotool search --onlyvisible --class Firefox key F5 ;             #optional  

####### Here ends the script that pywal stuff ###############################

neofetch ;
sleep 2 ;
exit'" 2>/dev/null; done
